<!DOCTYPE html>
<html>
<head>
<title>2023-01-06-data-mesh-101.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<p><img src="/images/2023-01-06-data-mesh-intro/mesh.jpg" alt="Mesh"></p>
<h1 id="introduction"><strong>Introduction</strong></h1>
<p>Much have been said and written about Data Mesh as it is an exciting concept that is still maturing and that has generated a lot of enthusiasm with data practitioners. The term Data Mesh was first coined by Zhamak Dhegani in 2019 in the blog post <a href="https://martinfowler.com/articles/data-monolith-to-mesh.html">How to Move Beyond a Monolithic Data Lake to a Distributed Data Mesh</a>, refined later on a second blog post, <a href="https://martinfowler.com/articles/data-mesh-principles.html">Data Mesh Principles and Logical Architecture</a> and afterwards Zhamak released the <a href="https://www.oreilly.com/library/view/data-mesh/9781492092384/">Data Mesh book</a>, and excellent read that is recommended for any data practitioner.</p>
<p>Here on this post I assume you are familiar with the Data Mesh concept and theory; if not, the sources above are the golden sources to familiarise yourself with it.</p>
<h4 id="how-and-why-did-we-got-here">How and why did we got here?</h4>
<p>The Data Mesh concept relies on the fact that previous architectural styles and approaches have failed because they leverage a centralised approach, where IT centralises technology, skills, ownership, that created a bottleneck in delivering value derived from data to consumers.</p>
<p><img src="/images/2023-01-06-data-mesh-intro/data-architecture-journey.jpg" alt="Data Architecture Journey"></p>
<p>The image above depicts the different data architecture approaches that historically have been used:</p>
<ol>
<li><strong>Data Warehouse Era</strong> - Initially when Data Warehouses were designed the ultimate goal was to support a demand of business requirements that was perfectly met by the supply of data the company acquired and generated.</li>
<li><strong>Data Warehouse Era</strong> - Reality of this era was that the match between demand and supply of data was never met as demand outpaced the supply of data and the speed of which the central IT could deliver releases and features to business users.</li>
<li><strong>Data Lake Era</strong> -  Circa 2010 Data Lakes became quite popular as they promised to democratize data, taking advantage of the &quot;data deluge&quot; that increasingly companies were facing and allowing data consumers to take advantage of that data with increased agility compared to what they could get from the Data Warehouse. On most case Data Lakes often complemented the Data Warehouse rather than replace it.</li>
<li><strong>Self Service Era</strong> - Despite the promise of the data democratisation of the Data Lake, due to the centralisation of technology, skills, ownership, that was adopted even for Data Lakes, and also due to Data Lakes being more difficult to manage and use, the majority of the Lines of Business inside the organisations turned to self service tools and technologies that promised the agility and delivery of value the business demanded. Wide adoption of self service technology was often without the IT team input and typically it created ungoverned data silos, often creating severe data quality issues.</li>
<li><strong>Data Mesh Era</strong> - We are currently on the Data Mesh era, where data practitioners look into this new concept as a way to once again, have a balance of business demand and supply of data, removing the bottlenecks of a centralised IT by decentralising technology, skills and ownership.</li>
</ol>
<h4 id="data-mesh-vs-data-warehouseslakeslakehouses">Data Mesh vs Data Warehouses/Lakes/Lakehouses</h4>
<p>The Data Mesh promise is that, 1) leveraging domain ownership, 2) treat data as products, 3) leverage a self serve data platform and 4) enforce a federated computational governance, optimal exploration and use of data can be achieved, something previous architectural approaches have failed to deliver.</p>
<p>My opinion and empirical observation from years of doing systems architecture is that often architectures and systems might fail to deliver on their promises but seldom technology is the only or the most influential culprit. Data Warehouses, Data Lakes and Data Lakehouses if architected on a pragmatical way, leveraging best practices, leveraging the most appropriate technology for the use case and if deployed and operated by a team that has the correct skill set will be successful and can even be part of a successful Data Mesh approach and architecture.</p>
<p>To my eyes the question is not deploying a Data Mesh or a DW/Lake/Lakehouse. It is rather deploying a Data Mesh and a DW/Lake/Lakehouse as often the backbone of the Data Mesh is a DW/Lake/Lakehouse architecture that supports the several data domains.</p>
<h4 id="data-platform-decentralisation">Data Platform Decentralisation</h4>
<p>Decentralisation of domain ownership doesn't necessarily mean a complete decentralisation of the data infrastructure. Keep in mind that modern cloud data infrastructure and platforms are designed with modularity in mind and they are the complete opposite of a monolith and as such offer the prefect technology capabilities to address a Data Mesh that needs a complete decentralised data platform or one that consolidates the different domains on a smaller set of cloud services providing flexibility, isolation, agility and cost efficiency.</p>
<p>Don't get me wrong, decentralisation of the data platform is a consideration when deploying a Data Mesh, but that design decision needs to be assessed as it involves a trade off between agility, cost, operational effort, governance, performance, security and compliance.</p>
<p>Careful thought need to be done so that deploying a Data Mesh for a particular case solves challenges instead of creating unnecessary challenges.</p>
<p>Decentralisation of the data platform itself should be done as needed and if needed and should have a rationale behind it and associated business and/or technical benefits. Below are some examples, not exhaustive, for which decentralisation of the platform might make sense:</p>
<ol>
<li>Large organization that operates in different geographies and segregates the data platform by geography leveraging a different tenant for each geography</li>
<li>Data domains that curate and provide data products that are of high volume (millions to billions of records), that have stringent SLAs and that if not isolated on a different instance (of a cloud DW or a Spark Cluster as examples) would dramatically affect the other domains to serve their data products</li>
<li>Organisation that wants to track cloud operating costs for each domain, that want to make the domains accountable for their costs and hence segregate per domain all cloud services and resources that have associated cost</li>
</ol>
<h4 id="data-products">Data Products</h4>
<p>To me the most interesting concept that Data Mesh brings is enticing everyone to think about Data Products curated within a bounded context and a define data domain that addresses that bounded context. This is a powerful concept that can be applied to Data Meshes as well as to modern cloud Data Warehouses, Lakes and Lakehouses. I would even go further and say that this should be the standard approach to producing de delivering value with data regardless of the architecture approach and deployment that is chosen as it creates accountability, increases quality and improves business outcomes as a consequence.</p>
<h4 id="federated-computational-governance">Federated Computational Governance</h4>
<p>Governing a Data Mesh and enforcing access management and data security are crucial to deploy and operate a Data Mesh. Decentralising ownership if not accompanied with proper security guard rails can lead to 1) data exfiltration and potential data breaches or 2) creation of locked down data silos. Both will hamper seriously any Data Mesh initiative and hence governance should be top of mind when designing a Data Mesh architecture.</p>
<p>Doing Data Mesh at scale and having several domains producing data products, having dozens, hundreds or even thousands of data consumers means that automation is crucial to 1) grant access to data products, 2) to track data products usage and 3) to audit access to those data products.</p>
<p>Cloud is built with fine grained security and access control for all APIs and since in cloud everything is an API for which invocation can be automated, data mesh and cloud are the perfect combination.</p>
<h1 id="practical-data-mesh-deployment-example"><strong>Practical Data Mesh Deployment Example</strong></h1>
<p>On this section I will focus on describing a Data Mesh deployment in <a href="https://www.oracle.com/cloud/">OCI (Oracle Cloud Infrastructure)</a> leveraging a practical approach.</p>
<h4 id="architectural-styles"><strong>Architectural Styles</strong></h4>
<p>Let me state the obvious, Data Mesh is an approach, not a technology and also not an architecture. It advocates</p>
<h4 id="personas"><strong>Personas</strong></h4>
<h4 id="domains-and-segregation"><strong>Domains and Segregation</strong></h4>
<p>This is a test; let's see how it renders...</p>
<h1 id="implementation-example"><strong>Implementation Example</strong></h1>
<h4 id="use-case"><strong>Use Case</strong></h4>
<h4 id="cloud-topology"><strong>Cloud Topology</strong></h4>
<h1 id="summary"><strong>Summary</strong></h1>

</body>
</html>
